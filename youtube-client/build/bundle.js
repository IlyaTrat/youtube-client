!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class n{constructor(e){return this.options=JSON.parse(JSON.stringify(e)),this.article=document.createElement("article"),this.header=document.createElement("header"),this.publisherContainer=document.createElement("div"),this.publishDateContainer=document.createElement("div"),this.viewCountContainer=document.createElement("div"),this.description=document.createElement("p"),this.article.className="video-info",this.article.style.width=e.thumbnails.medium.width.toString().concat("px"),this.fillHeader(this.header),this.fillPublisherContainer(this.publisherContainer),this.fillPublishDateContainer(this.publishDateContainer),this.fillViewCountContainer(this.viewCountContainer),this.fillDescription(),this.article.appendChild(this.header),this.article.appendChild(this.publisherContainer),this.article.appendChild(this.publishDateContainer),this.article.appendChild(this.viewCountContainer),this.article.appendChild(this.description),this.article}fillHeader(e){const t=document.createElement("img"),i=document.createElement("a");t.src=this.options.thumbnails.medium.url,t.alt="Thumbnails image",i.href="https://www.youtube.com/watch?v=".concat(this.options.videoId),i.textContent=this.options.title,e.appendChild(t),e.appendChild(i)}fillPublisherContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="fas fa-user",i.className="publisher",i.textContent=this.options.channelTitle,e.appendChild(t),e.appendChild(i)}fillPublishDateContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="far fa-calendar-alt",i.className="publish-date",i.textContent=new Date(this.options.publishedAt).toLocaleDateString(),e.appendChild(t),e.appendChild(i)}fillViewCountContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="far fa-eye",i.className="view-count",i.textContent=this.options.viewCount,e.appendChild(t),e.appendChild(i)}fillDescription(){this.description.className="description",this.description.textContent=this.options.description}}const s=new class{constructor(e,t){this.options={type:"video",key:"AIzaSyBaUTvlej9t_88Olyrp3sUtJ3BVjchgWR0",maxResults:"15"},this.url="https://www.googleapis.com/youtube/v3/",this.data=[],this.nextPageToken="";const i=document.createElement("input");return i.type="text",i.id=e,i.placeholder=t,i.addEventListener("keyup",t=>{t.preventDefault(),13===t.keyCode&&document.getElementById(e).onsubmit()}),i.onsubmit=(()=>{const t=document.getElementById("video-section");for(;t.firstChild;)t.removeChild(t.firstChild);this.data=[];const i=document.getElementById(e).value;this.makeReq(i)}),i}makeReq(e){const t=new URL(this.url.concat("search"));this.options.part="snippet",this.options.q=e,Object.keys(this.options).forEach(e=>{t.searchParams.set(e,this.options[e])}),fetch(t).then(e=>e.json().then(e=>{this.nextPageToken=e.nextPageToken,this.handleReq(e.items),this.makeSubReq(e.items.map(e=>e.id.videoId).join(","))}))}makeSubReq(e){const t=new URL(this.url.concat("videos"));this.options.part="statistics",this.options.id=e,Object.keys(this.options).forEach(e=>{t.searchParams.set(e,this.options[e])}),fetch(t).then(e=>e.json().then(e=>{e.items.forEach((e,t)=>{this.data[t].viewCount=e.statistics.viewCount}),this.addArticles()}))}handleReq(e){e.forEach(e=>{const t={videoId:e.id.videoId,publishedAt:e.snippet.publishedAt,title:e.snippet.title,description:e.snippet.description,channelTitle:e.snippet.channelTitle,thumbnails:e.snippet.thumbnails};this.data.push(t)})}addArticles(){this.data.forEach(e=>document.getElementById("video-section").appendChild(new n(e)))}}("search","Input text"),o=document.createElement("section");o.id="video-section",document.body.appendChild(s),document.body.appendChild(o)}]);