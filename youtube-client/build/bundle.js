!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class i{constructor(e={}){this.options=JSON.parse(JSON.stringify(e))}createElement(){const e=document.createElement("article"),t=document.createElement("header"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("p");return 0!==Object.keys(this.options).length&&(e.className="video-info",e.style.gridTemplateColumns="40vh",this.fillHeader(t),this.fillPublisherContainer(n),this.fillPublishDateContainer(i),this.fillViewCountContainer(s),this.fillDescription(o)),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(s),e.appendChild(o),e}fillHeader(e){const t=document.createElement("img"),n=document.createElement("a");t.src=this.options.thumbnails.medium.url,t.alt="Thumbnails image",n.href="https://www.youtube.com/watch?v=".concat(this.options.videoId),n.textContent=this.options.title,e.appendChild(t),e.appendChild(n)}fillPublisherContainer(e){const t=document.createElement("i"),n=document.createElement("span");t.className="fas fa-user",n.className="publisher",n.textContent=this.options.channelTitle,e.appendChild(t),e.appendChild(n)}fillPublishDateContainer(e){const t=document.createElement("i"),n=document.createElement("span");t.className="far fa-calendar-alt",n.className="publish-date",n.textContent=new Date(this.options.publishedAt).toLocaleDateString(),e.appendChild(t),e.appendChild(n)}fillViewCountContainer(e){const t=document.createElement("i"),n=document.createElement("span");t.className="far fa-eye",n.className="view-count",n.textContent=this.options.viewCount,e.appendChild(t),e.appendChild(n)}fillDescription(e){const t=e;t.className="description",t.textContent=this.options.description}}class s{constructor(e,t){this.pageNumber=e,this.videoSection=t,this.element=void 0}createElement(e,t=!1){return this.element=document.createElement("button"),this.element.textContent=e+1,t&&(this.element.className="active"),this.addEvent(e),this.element}addEvent(e){this.element.onclick=(()=>{this.videoSection.clearInfoSection(),this.videoSection.showArticles(this.videoSection.articlesOnPage*e)})}}class o{constructor(e){this.id="page-nav",this.element=void 0,this.videoInfoSection=e,this.numberOfPages=void 0,this.pageIndex=0}createElement(){this.element=document.createElement("div"),this.element.id=this.id,this.createButtons(this.element,2),document.body.appendChild(this.element),this.element=document.getElementById(this.id)}createButtons(e,t){this.pageIndex=this.videoInfoSection.pageIndex,this.numberOfPages=this.videoInfoSection.numberOfPages;const n=this.pageIndex-t,i=this.pageIndex+t;for(let t=n;i>=t&&this.numberOfPages>t;t+=1)t>=0&&t===this.pageIndex?e.appendChild(new s(t,this.videoInfoSection).createElement(t,!0)):t>=0&&e.appendChild(new s(t,this.videoInfoSection).createElement(t))}deleteElement(){document.body.removeChild(this.element)}}const a=new class{constructor(e={}){this.data=JSON.parse(JSON.stringify(e)),this.element=void 0,this.navigationContainer=void 0,this.currentIndex=0,this.pageIndex=0,this.articlesOnPage=0,this.numberOfPages=0,this.mouseStartPosition=0,this.mouseEndPosition=0,this.search=void 0,this.down=(e=>{this.mouseStartPosition=e.pageX||e.changedTouches[0].pageX,this.mouseEndPosition=this.mouseStartPosition,this.element.addEventListener("mousemove",this.move),this.element.addEventListener("touchmove",this.move)}),this.move=(e=>{this.mouseEndPosition=e.pageX||e.changedTouches[0].pageX;const t=this.mouseEndPosition-this.mouseStartPosition;console.log("translate(".concat(t).concat("px)")),this.element.style.transform="translate(".concat(t).concat("px)")}),this.up=(()=>{this.element.removeEventListener("mousemove",this.move),this.element.removeEventListener("touchmove",this.move),this.element.style.transform="translate(0px)",this.mouseStartPosition>this.mouseEndPosition?this.currentIndex<this.data.length-this.articlesOnPage&&(this.currentIndex+=this.articlesOnPage,this.clearInfoSection(),this.showArticles(this.currentIndex)):this.mouseStartPosition<this.mouseEndPosition&&(this.currentIndex>=this.articlesOnPage?(this.currentIndex-=this.articlesOnPage,this.clearInfoSection(),this.showArticles(this.currentIndex)):(this.currentIndex=0,this.clearInfoSection(),this.showArticles(this.currentIndex)))})}createElement(){this.element=document.createElement("section"),this.element.id="video-section",document.body.appendChild(this.element),this.element=document.getElementById("video-section"),this.addMouseEvent(),this.addTouchEvent(),this.navigationContainer=new o(this),this.navigationContainer.createElement(),window.addEventListener("resize",()=>{this.clearInfoSection(),this.showArticles(this.currentIndex)})}setData(e){this.data=JSON.parse(JSON.stringify(e))}setSearch(e){this.search=e}showArticles(e){this.currentIndex=e;const t=this.data.length,n=window.innerWidth;this.articlesOnPage=Math.floor(n/(.4*window.innerHeight+80))||1,this.numberOfPages=Math.ceil(t/this.articlesOnPage);let s=e+this.articlesOnPage;s=s>t?t:s,this.pageIndex=this.currentIndex/this.articlesOnPage,t-e<5&&this.search.makeReq(this.search.reqest).then(()=>(this.clearInfoSection(),this.showArticles(e)));for(let t=e;t<s;t+=1)this.element.appendChild(new i(this.data[t]).createElement());this.navigationContainer.createElement()}clearInfoSection(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.navigationContainer.deleteElement()}addMouseEvent(){this.element.addEventListener("mousedown",this.down),this.element.addEventListener("mouseup",this.up)}addTouchEvent(){this.element.addEventListener("touchstart",this.down),this.element.addEventListener("touchend",this.up)}}({}),h=new class{constructor(e,t,n){this.options={type:"video",key:"AIzaSyBaUTvlej9t_88Olyrp3sUtJ3BVjchgWR0",maxResults:"15"},this.id=e,this.placeholder=t,this.url="https://www.googleapis.com/youtube/v3/",this.videoInfoSection=n,this.data=[],this.nextPageToken=void 0,this.request=void 0}createElement(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input");e.className="search-bar-container",t.className="fas fa-search",t.htmlFor=this.id,n.type="text",n.id=this.id,n.placeholder=this.placeholder,n.addEventListener("keyup",e=>{e.preventDefault(),"Enter"===e.key&&document.getElementById(this.id).onsubmit()}),n.onsubmit=(()=>{this.videoInfoSection.clearInfoSection(),this.data=[],this.nextPageToken=void 0,this.request=document.getElementById(this.id).value,this.initSearch(this.request)}),e.appendChild(t),e.appendChild(n),document.body.appendChild(e)}makeReq(e){return new Promise(t=>{let n;const i=new URL(this.url.concat("search"));this.options.part="snippet",this.options.q=e,Object.keys(this.options).forEach(e=>{i.searchParams.set(e,this.options[e])}),void 0!==this.nextPageToken&&i.searchParams.set("pageToken",this.nextPageToken),fetch(i).then(e=>e.json().then(e=>{n=e,this.nextPageToken=n.nextPageToken,this.handleReq(n.items)}).then(()=>{this.makeSubReq(n.items.map(e=>e.id.videoId).join(",")).then(t)}))})}makeSubReq(e){return new Promise(t=>{const n=new URL(this.url.concat("videos"));this.options.part="statistics",this.options.id=e,Object.keys(this.options).forEach(e=>{n.searchParams.set(e,this.options[e])}),fetch(n).then(e=>e.json().then(e=>{const t=this.data.length-e.items.length;e.items.forEach((e,n)=>{this.data[t+n].viewCount=e.statistics.viewCount})})).then(()=>this.videoInfoSection.setData(this.data)).then(t)})}initSearch(e){this.makeReq(e).then(()=>{this.videoInfoSection.showArticles(0)})}handleReq(e){e.forEach(e=>{const t={videoId:e.id.videoId,publishedAt:e.snippet.publishedAt,title:e.snippet.title,description:e.snippet.description,channelTitle:e.snippet.channelTitle,thumbnails:e.snippet.thumbnails};this.data.push(t)})}}("search","Input text",a);a.setSearch(h),h.createElement(),a.createElement()}]);