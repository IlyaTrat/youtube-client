!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class n{constructor(e){this.options=JSON.parse(JSON.stringify(e))}createElement(){const e=document.createElement("article"),t=document.createElement("header"),i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("p");return e.className="video-info",e.style.gridTemplateColumns=this.options.thumbnails.medium.width.toString().concat("px"),this.fillHeader(t),this.fillPublisherContainer(i),this.fillPublishDateContainer(n),this.fillViewCountContainer(s),this.fillDescription(o),e.appendChild(t),e.appendChild(i),e.appendChild(n),e.appendChild(s),e.appendChild(o),e}fillHeader(e){const t=document.createElement("img"),i=document.createElement("a");t.src=this.options.thumbnails.medium.url,t.alt="Thumbnails image",i.href="https://www.youtube.com/watch?v=".concat(this.options.videoId),i.textContent=this.options.title,e.appendChild(t),e.appendChild(i)}fillPublisherContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="fas fa-user",i.className="publisher",i.textContent=this.options.channelTitle,e.appendChild(t),e.appendChild(i)}fillPublishDateContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="far fa-calendar-alt",i.className="publish-date",i.textContent=new Date(this.options.publishedAt).toLocaleDateString(),e.appendChild(t),e.appendChild(i)}fillViewCountContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="far fa-eye",i.className="view-count",i.textContent=this.options.viewCount,e.appendChild(t),e.appendChild(i)}fillDescription(e){const t=e;t.className="description",t.textContent=this.options.description}}const s=new class{constructor(e){this.data=JSON.parse(JSON.stringify(e)),this.element=void 0,this.currentIndex=0,this.articlesOnPage=0,this.pageIndex=0,this.mouseStartPosition=0,this.mouseEndPosition=0,this.down=(e=>{this.mouseStartPosition=e.pageX}),this.move=(e=>{this.mouseEndPosition=e.pageX}),this.up=(()=>{this.mouseStartPosition<this.mouseEndPosition?this.currentIndex<this.data.length-this.articlesOnPage&&(this.currentIndex+=this.articlesOnPage,this.clearInfoSection(),this.showArticles(this.currentIndex)):this.mouseStartPosition>this.mouseEndPosition&&(this.currentIndex>=this.articlesOnPage?(this.currentIndex-=this.articlesOnPage,this.clearInfoSection(),this.showArticles(this.currentIndex)):(this.currentIndex=0,this.clearInfoSection(),this.showArticles(this.currentIndex)))})}createElement(){this.element=document.createElement("section"),this.element.id="video-section",document.body.appendChild(this.element),this.element=document.getElementById("video-section"),this.addMouseEvent(),window.addEventListener("resize",()=>{this.clearInfoSection(),this.showArticles(this.currentIndex)})}setData(e){this.data=JSON.parse(JSON.stringify(e))}showArticles(e){const t=window.innerWidth;this.articlesOnPage=Math.floor(t/400)||1;const i=e+this.articlesOnPage;for(let t=e;t<i;t+=1)this.element.appendChild(new n(this.data[t]).createElement())}clearInfoSection(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}addMouseEvent(){this.element.addEventListener("mousedown",this.down),this.element.addEventListener("mousemove",this.move),this.element.addEventListener("mouseup",this.up)}}({});new class{constructor(e,t,i){this.options={type:"video",key:"AIzaSyBaUTvlej9t_88Olyrp3sUtJ3BVjchgWR0",maxResults:"15"},this.id=e,this.placeholder=t,this.url="https://www.googleapis.com/youtube/v3/",this.videoInfoSection=i,this.data=[],this.nextPageToken=""}createElement(){const e=document.createElement("div"),t=document.createElement("label"),i=document.createElement("input");e.className="search-bar-container",t.className="fas fa-search",t.htmlFor=this.id,i.type="text",i.id=this.id,i.placeholder=this.placeholder,i.addEventListener("keyup",e=>{e.preventDefault(),13===e.keyCode&&document.getElementById(this.id).onsubmit()}),i.onsubmit=(()=>{this.videoInfoSection.clearInfoSection(),this.data=[];const e=document.getElementById(this.id).value;this.makeReq(e)}),e.appendChild(t),e.appendChild(i),document.body.appendChild(e)}makeReq(e){const t=new URL(this.url.concat("search"));this.options.part="snippet",this.options.q=e,Object.keys(this.options).forEach(e=>{t.searchParams.set(e,this.options[e])}),fetch(t).then(e=>e.json().then(e=>{this.nextPageToken=e.nextPageToken,this.handleReq(e.items),this.makeSubReq(e.items.map(e=>e.id.videoId).join(","))}))}makeSubReq(e){const t=new URL(this.url.concat("videos"));this.options.part="statistics",this.options.id=e,Object.keys(this.options).forEach(e=>{t.searchParams.set(e,this.options[e])}),fetch(t).then(e=>e.json().then(e=>{e.items.forEach((e,t)=>{this.data[t].viewCount=e.statistics.viewCount}),this.videoInfoSection.showArticles(0)}))}handleReq(e){e.forEach(e=>{const t={videoId:e.id.videoId,publishedAt:e.snippet.publishedAt,title:e.snippet.title,description:e.snippet.description,channelTitle:e.snippet.channelTitle,thumbnails:e.snippet.thumbnails};this.data.push(t)}),this.videoInfoSection.setData(this.data)}}("search","Input text",s).createElement(),s.createElement()}]);