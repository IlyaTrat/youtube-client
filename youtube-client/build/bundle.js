!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class n{constructor(e={}){this.options=JSON.parse(JSON.stringify(e))}createElement(){const e=document.createElement("article"),t=document.createElement("header"),i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("p");return 0!==Object.keys(this.options).length&&(e.className="video-info",e.style.gridTemplateColumns="40vh",this.fillHeader(t),this.fillPublisherContainer(i),this.fillPublishDateContainer(n),this.fillViewCountContainer(s),this.fillDescription(o)),e.appendChild(t),e.appendChild(i),e.appendChild(n),e.appendChild(s),e.appendChild(o),e}fillHeader(e){const t=document.createElement("img"),i=document.createElement("a");t.src=this.options.thumbnails.medium.url,t.alt="Thumbnails image",i.href="https://www.youtube.com/watch?v=".concat(this.options.videoId),i.textContent=this.options.title,e.appendChild(t),e.appendChild(i)}fillPublisherContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="fas fa-user",i.className="publisher",i.textContent=this.options.channelTitle,e.appendChild(t),e.appendChild(i)}fillPublishDateContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="far fa-calendar-alt",i.className="publish-date",i.textContent=new Date(this.options.publishedAt).toLocaleDateString(),e.appendChild(t),e.appendChild(i)}fillViewCountContainer(e){const t=document.createElement("i"),i=document.createElement("span");t.className="far fa-eye",i.className="view-count",i.textContent=this.options.viewCount,e.appendChild(t),e.appendChild(i)}fillDescription(e){const t=e;t.className="description",t.textContent=this.options.description}}class s{constructor(e,t){this.pageNumber=e,this.videoSection=t,this.element=void 0}createElement(e,t=!1){return this.element=document.createElement("button"),this.element.textContent=e+1,t&&(this.element.className="active"),this.addEvent(e),this.element}addEvent(e){this.element.onclick=(()=>{this.videoSection.clearInfoSection(),this.videoSection.showArticles(this.videoSection.articlesOnPage*e)})}}class o{constructor(e){this.id="page-nav",this.element=void 0,this.videoInfoSection=e,this.numberOfPages=void 0,this.pageIndex=0}createElement(){this.element=document.createElement("div"),this.element.id=this.id,this.createButtons(this.element,2),document.body.appendChild(this.element),this.element=document.getElementById(this.id)}createButtons(e,t){this.pageIndex=this.videoInfoSection.pageIndex,this.numberOfPages=this.videoInfoSection.numberOfPages;const i=this.pageIndex-t,n=this.pageIndex+t;for(let t=i;n>=t&&this.numberOfPages>t;t+=1)t>=0&&t===this.pageIndex?e.appendChild(new s(t,this.videoInfoSection).createElement(t,!0)):t>=0&&e.appendChild(new s(t,this.videoInfoSection).createElement(t))}deleteElement(){document.body.removeChild(this.element)}}const a=new class{constructor(e={}){this.data=JSON.parse(JSON.stringify(e)),this.element=void 0,this.navigationContainer=void 0,this.currentIndex=0,this.pageIndex=0,this.articlesOnPage=0,this.numberOfPages=0,this.mouseStartPosition=0,this.mouseEndPosition=0,this.search=void 0,this.down=(e=>{this.mouseStartPosition=e.pageX||e.changedTouches[0].pageX,this.mouseEndPosition=this.mouseStartPosition,this.element.addEventListener("mousemove",this.move),this.element.addEventListener("touchmove",this.move)}),this.move=(e=>{this.mouseEndPosition=e.pageX||e.changedTouches[0].pageX,this.element.style.left=(this.mouseEndPosition-this.mouseStartPosition).toString().concat("px")}),this.up=(()=>{this.element.removeEventListener("mousemove",this.move),this.element.removeEventListener("touchmove",this.move),this.element.style.left="0px",this.mouseStartPosition>this.mouseEndPosition?this.currentIndex<this.data.length-this.articlesOnPage&&(this.currentIndex+=this.articlesOnPage,this.clearInfoSection(),this.showArticles(this.currentIndex)):this.mouseStartPosition<this.mouseEndPosition&&(this.currentIndex>=this.articlesOnPage?(this.currentIndex-=this.articlesOnPage,this.clearInfoSection(),this.showArticles(this.currentIndex)):(this.currentIndex=0,this.clearInfoSection(),this.showArticles(this.currentIndex)))})}createElement(){this.element=document.createElement("section"),this.element.id="video-section",document.body.appendChild(this.element),this.element=document.getElementById("video-section"),this.addMouseEvent(),this.addTouchEvent(),this.navigationContainer=new o(this),this.navigationContainer.createElement(),window.addEventListener("resize",()=>{this.clearInfoSection(),this.showArticles(this.currentIndex)})}setData(e){this.data=JSON.parse(JSON.stringify(e))}setSearch(e){this.search=e}showArticles(e){this.currentIndex=e;const t=this.data.length,i=window.innerWidth;this.articlesOnPage=Math.floor(i/(.4*window.innerHeight+80))||1,this.numberOfPages=Math.ceil(t/this.articlesOnPage);let s=e+this.articlesOnPage;s=s>t?t:s,this.pageIndex=this.currentIndex/this.articlesOnPage,t-e<5&&this.search.makeReq(this.search.reqest).then(()=>(this.clearInfoSection(),this.showArticles(e)));for(let t=e;t<s;t+=1)this.element.appendChild(new n(this.data[t]).createElement());this.navigationContainer.createElement()}clearInfoSection(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.navigationContainer.deleteElement()}addMouseEvent(){this.element.addEventListener("mousedown",this.down),this.element.addEventListener("mouseup",this.up)}addTouchEvent(){this.element.addEventListener("touchstart",this.down),this.element.addEventListener("touchend",this.up)}}({}),h=new class{constructor(e,t,i){this.options={type:"video",key:"AIzaSyBaUTvlej9t_88Olyrp3sUtJ3BVjchgWR0",maxResults:"15"},this.id=e,this.placeholder=t,this.url="https://www.googleapis.com/youtube/v3/",this.videoInfoSection=i,this.data=[],this.nextPageToken=void 0,this.request=void 0}createElement(){const e=document.createElement("div"),t=document.createElement("label"),i=document.createElement("input");e.className="search-bar-container",t.className="fas fa-search",t.htmlFor=this.id,i.type="text",i.id=this.id,i.placeholder=this.placeholder,i.addEventListener("keyup",e=>{e.preventDefault(),"Enter"===e.key&&document.getElementById(this.id).onsubmit()}),i.onsubmit=(()=>{this.videoInfoSection.clearInfoSection(),this.data=[],this.nextPageToken=void 0,this.request=document.getElementById(this.id).value,this.initSearch(this.request)}),e.appendChild(t),e.appendChild(i),document.body.appendChild(e)}makeReq(e){return new Promise(t=>{let i;const n=new URL(this.url.concat("search"));this.options.part="snippet",this.options.q=e,Object.keys(this.options).forEach(e=>{n.searchParams.set(e,this.options[e])}),void 0!==this.nextPageToken&&n.searchParams.set("pageToken",this.nextPageToken),fetch(n).then(e=>e.json().then(e=>{i=e,this.nextPageToken=i.nextPageToken,this.handleReq(i.items)}).then(()=>{this.makeSubReq(i.items.map(e=>e.id.videoId).join(",")).then(t)}))})}makeSubReq(e){return new Promise(t=>{const i=new URL(this.url.concat("videos"));this.options.part="statistics",this.options.id=e,Object.keys(this.options).forEach(e=>{i.searchParams.set(e,this.options[e])}),fetch(i).then(e=>e.json().then(e=>{const t=this.data.length-e.items.length;e.items.forEach((e,i)=>{this.data[t+i].viewCount=e.statistics.viewCount})})).then(()=>this.videoInfoSection.setData(this.data)).then(t)})}initSearch(e){this.makeReq(e).then(()=>{this.videoInfoSection.showArticles(0)})}handleReq(e){e.forEach(e=>{const t={videoId:e.id.videoId,publishedAt:e.snippet.publishedAt,title:e.snippet.title,description:e.snippet.description,channelTitle:e.snippet.channelTitle,thumbnails:e.snippet.thumbnails};this.data.push(t)})}}("search","Input text",a);a.setSearch(h),h.createElement(),a.createElement()}]);